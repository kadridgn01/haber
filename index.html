<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Anlık Manşetler</title>
  <meta name="description" content="Anlık Manşetler: Güncel ekonomi, teknoloji, kültür ve spor haberleri." />
  <meta name="theme-color" content="#0b84fe" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="images/logo-192.png">

  <style>
    :root{
      --bg:#f6f7fb; --surface:#ffffff; --card:#ffffff; --ink:#0b0c10; --muted:#576071; --brand:#0b84fe;
      --head-h:64px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.6}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}
    .container{max-width:1200px;margin-inline:auto;padding:16px}
    /* Header (sadece logo + isim) */
    .site-header{position:sticky;top:0;z-index:30;background:var(--surface);border-bottom:1px solid #00000010}
    .head-wrap{min-height:64px;display:flex;align-items:center;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:10px;object-fit:cover;flex:0 0 auto}
    .brand-title{margin:0;font-size:22px;font-weight:800;letter-spacing:.2px}
    .brand-sub{margin:0;color:var(--muted);font-size:12px}

    /* Kartlar */
    .card{background:var(--card);border:1px solid #00000010;border-radius:16px;overflow:hidden;box-shadow:0 6px 24px #00000015}
    .pad{padding:16px}
    .kicker{color:var(--brand);font-weight:700;font-size:12px;letter-spacing:.6px;text-transform:uppercase}
    .title{margin:4px 0 8px;font-size:28px}
    .excerpt{color:var(--muted)}
    .meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px}

    /* Kare medya: tüm görseller eşit */
    .media{position:relative;width:100%;overflow:hidden;background:#00000008}
    .media::before{content:"";display:block;padding-top:100%} /* iOS fallback */
    .media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center}

    /* Grid */
    .grid{display:grid;grid-template-columns: repeat(3, 1fr);gap:16px}
    @media (max-width: 1000px){.grid{grid-template-columns: repeat(2, 1fr)}}
    @media (max-width: 640px){.grid{grid-template-columns:1fr}}

    /* Mobil eşitleme: başlık 2 satır, özet gizli */
    @media (max-width:640px){
      .brand-title{font-size:18px}
      .title{font-size:20px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
      .excerpt{display:none}
    }

    footer{margin:24px 0 60px;color:var(--muted);text-align:center}
  </style>

  <!-- Manifest'ı tek dosyada üret -->
  <script>
    (function(){
      const manifest = {
        name: "Anlık Manşetler",
        short_name: "Manşetler",
        start_url: ".",
        scope: ".",
        display: "standalone",
        background_color: "#ffffff",
        theme_color: "#0b84fe",
        icons: [
          { src: "images/logo-192.png", sizes: "192x192", type: "image/png" },
          { src: "images/logo-512.png", sizes: "512x512", type: "image/png" }
        ]
      };
      const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
      const href = URL.createObjectURL(blob);
      const link = document.createElement('link'); link.rel = 'manifest'; link.href = href;
      document.head.appendChild(link);
    })();
  </script>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header" aria-label="Üst bölüm">
    <div class="container head-wrap">
      <div class="brand">
        <img class="logo" src="images/logo.jpg" alt="Anlık Manşetler Logo" />
        <div>
          <h1 class="brand-title">Anlık Manşetler</h1>
          <p class="brand-sub">Ekonomi • Teknoloji • Kültür • Spor</p>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container" id="app">
    <section style="margin-top:12px" aria-label="Haberler">
      <div id="news-grid" class="grid"></div>
    </section>

    <section class="card pad" style="margin-top:18px">
      <h2>Günün Notu</h2>
      <p class="excerpt">Gündemin hızına ayak uydurmak için ana başlıklara odaklanın; detaylar haber sayfalarında.</p>
      <span class="kicker">Editörden</span>
    </section>
  </main>

  <footer class="container">
    <p>© <span id="yil"></span> Anlık Manşetler • Tüm hakları saklıdır.</p>
  </footer>

  <script>
    // ---- Haberler (görselleri kendi dosyalarınla değiştir) ----
    const NEWS = [
      { id:'e1', cat:'Ekonomi',  title:'Dünya Borsaları Dalgalanıyor', img:'images/finance.jpg',
        excerpt:'Merkez bankalarının faiz kararları, küresel piyasalarda belirsizlik yaratıyor.',
        by:'Ekonomi Servisi', time: Date.now() - 1000*60*40 },

      { id:'t1', cat:'Teknoloji', title:'Yapay Zekâ Günlük Hayatta Daha Fazla Yer Buluyor', img:'images/ai.jpg',
        excerpt:'Yeni nesil yapay zekâ uygulamaları eğitimden sağlığa kadar yayılıyor.',
        by:'Teknoloji', time: Date.now() - 1000*60*80 },

      { id:'k1', cat:'Kültür',   title:'Venedik Film Festivali’nde Büyük Ödül Sahibini Buldu', img:'images/venice.jpg',
        excerpt:'Venedik’te bu yıl ödül alan film belli oldu.',
        by:'Kültür Sanat', time: Date.now() - 1000*60*120 },

      { id:'s1', cat:'Spor',     title:'Avrupa Futbolunun Dev Turnuvasında İlk Maçlar Tamamlandı', img:'images/stadium.jpg',
        excerpt:'Kıtalar arası heyecan yeniden başladı; ilk grup maçları nefes kesti.',
        by:'Spor', time: Date.now() - 1000*60*20 }
    ];

    function timeAgo(ts){
      const diff = Math.floor((Date.now()-ts)/1000);
      const map = [[31536000,'yıl'],[2592000,'ay'],[604800,'hafta'],[86400,'gün'],[3600,'saat'],[60,'dakika']];
      for(const [s,label] of map){ const v=Math.floor(diff/s); if(v>=1) return v+" "+label+" önce"; }
      return 'az önce';
    }
    function media(src, alt){
      return `<figure class="media"><img src="${src}" alt="${alt}" onerror="this.style.opacity=.15;this.alt='görsel bulunamadı'"></figure>`;
    }
    function card(n){
      return `
        <article class="card">
          ${media(n.img, n.title)}
          <div class="pad">
            <div class="kicker">${n.cat}</div>
            <h3 class="title">${n.title}</h3>
            <p class="excerpt">${n.excerpt}</p>
            <div class="meta"><span>${n.by}</span><span>•</span><span>${timeAgo(n.time)}</span></div>
          </div>
        </article>`;
    }

    // MOBİLDE TÜM KARTLAR EŞİT – tek liste (manşet ayrımı yok)
    function render(){
      const grid = document.getElementById('news-grid');
      const sorted = [...NEWS].sort((a,b)=> b.time-a.time);
      grid.innerHTML = sorted.map(card).join('');
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      document.getElementById('yil').textContent = new Date().getFullYear();
      render();
    });

    // Service Worker tek dosyada (blob)
    if ('serviceWorker' in navigator) {
      const swCode = `
        const CACHE='anlik-v1';
        const PRECACHE=['./'];
        self.addEventListener('install',e=>{e.waitUntil(caches.open(CACHE).then(c=>c.addAll(PRECACHE)).then(()=>self.skipWaiting()))});
        self.addEventListener('activate',e=>{e.waitUntil(self.clients.claim())});
        self.addEventListener('fetch',e=>{e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request).then(res=>{const copy=res.clone(); caches.open(CACHE).then(c=>c.put(e.request,copy)); return res;})).catch(()=>caches.match('./')))});
      `;
      const swBlob = new Blob([swCode], {type:'application/javascript'});
      const swURL = URL.createObjectURL(swBlob);
      navigator.serviceWorker.register(swURL);
    }
  </script>
</body>
</html>
